id: "0x0019"
name: OTAU
description: Over the air upgrade.
server: {}
client:
    attr:
    - id: "0x0000"
        name: Upgrade server
        type: uid
        access: rw
        default: "0"
        required: m
    - id: "0x0001"
        name: File Offset
        type: u32
        access: r
        default: "0xffffffff"
        required: o
        showas: hex
    - id: "0x0002"
        name: Current File Version
        type: u32
        access: r
        default: "0xffffffff"
        required: o
        showas: hex
    - id: "0x0003"
        name: Current ZigBee Stack Version
        type: u16
        access: r
        default: "0xffff"
        required: o
        showas: hex
    - id: "0x0004"
        name: Downloaded File Version
        type: u32
        access: r
        default: "0xffffffff"
        required: o
        showas: hex
    - id: "0x0005"
        name: Downloaded ZigBee Stack Version
        type: u16
        access: r
        default: "0xffff"
        required: o
        showas: hex
    - id: "0x0006"
        name: Image upgrade status
        type: enum8
        access: rw
        default: "0x04"
        required: m
        values:
            "0x00": Normal
            "0x01": Download in progress
            "0x02": Download complete
            "0x03": Waiting to upgrade
            "0x04": Count down
            "0x05": Wait for more
    - id: "0x0009"
        name: Min block request delay
        type: u16
        access: r
        default: "0"
        required: m
    cmd:
    - id: "0x01"
        name: Query next image
        dir: send
        required: m
        payloadattr:
        - id: "0x0000"
            name: Control field
            type: bmp8
            default: "0x00"
            required: m
            bits:
                "1": Hardware version present
        - id: "0x0001"
            name: Manufacturer ID
            type: u16
            required: m
            showas: hex
        - id: "0x0002"
            name: Image type
            type: enum16
            default: "0x0000"
            required: m
            values:
                "0x0000": Specific image
                "0xFFC0": Security credential
                "0xFFC1": Configuration
                "0xFFC2": Log
                "0xFFFF": Wild card
        - id: "0x0003"
            name: Application Release
            type: u8
            required: m
            showas: hex
        - id: "0x0004"
            name: Application Build
            type: u8
            required: m
            showas: hex
        - id: "0x0005"
            name: Stack Release
            type: u8
            required: m
            showas: hex
        - id: "0x0006"
            name: Stack Build
            type: u8
            required: m
            showas: hex
    - id: "0x07"
        name: Upgrade end response
        dir: recv
        required: m
        payloadattr:
        - id: "0x0000"
            name: Manufacturer ID
            type: u16
            required: m
            showas: hex
        - id: "0x0001"
            name: Image type
            type: u16
            required: m
            showas: hex
        - id: "0x0002"
            name: File version
            type: u32
            required: m
            showas: hex
        - id: "0x0003"
            name: Current time
            type: u32
            required: m
            showas: hex
        - id: "0x0004"
            name: Upgrade time
            type: u32
            required: m
            showas: hex
